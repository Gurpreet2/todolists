
<%- include('../partials/header'); -%>

<div class="row">
  <h1 class="col-sm-6 text-center">
    Lists
  </h1>
</div>

<hr>

<div class="row justify-content-md-center">
  <div class="col col-lg-10">
    <ul class="todolist-previews">
      <% lists.forEach(function(list) { %>
        <li class="list-group mb-4">
          <a class="font-weight-bold list-group-item list-group-item-action bg-dsg text-white" href="/lists/<%= list._id %>">
            <% if (list.name) { %>
              <%= list.name %>
            <% } else { %>
              undefined
            <% } %>
          </a>
          <% if (list.items.length > 0) { %>
            <ul class="list-group mt-2">
              <% let max = Math.min(list.items.length, 3); %>
              <% for (let i = 0; i < max; i++) { %>
                <li class="list-group-item"><%= list.items[i].text %></li>
              <% } %>
              <% if (max < list.items.length) { %>
                <li class="list-group-item text-warning">...</li>
              <% } %>
            </ul>
          <% } %>
        </li>
      <% }); %>
    </ul>
  </div>
</div>

<%- include('../partials/footer'); -%>
